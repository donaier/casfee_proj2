<article class="card" *ngIf='data ==="isloading"'>
  <div class="has-text-centered">
    <button class="button is-primary dark is-loading m-6">Loading</button>
  </div>
</article>

<article class="card is-warning m-6" *ngIf='data ==="nodata"'>
  <div class="card-content">
    <p class="title">Accounts</p>
    <p class="subtitle">No registered Account go to <a href="/configuration">configuration</a> to start</p>
  </div>
</article>

<article class="columns mb-3" *ngIf='data ==="data"'>
  <div class="column" *ngFor="let account of accounts" class="{{activeAccounts.includes(account) ? '' : 'muted'}}">
    <div class="card account-card" [ngStyle]="{'border-bottom-color': account.color}">
      <header class="card-header">
        <p class="card-header-title is-flex is-justify-content-space-between">
          <span>
            {{account.name}}
          </span>
          <span class="tag">
            {{account.shortName}}
          </span>
        </p>
      </header>
      <div class="card-content">
        <div class="content has-text-centered">
          <p>{{account.description}}</p>
          <p class="title">Fr. {{account.currentValue}}</p>
        </div>
        <div class="field is-grouped is-justify-content-center">
          <a class="button is-small is-rounded mx-1" (click)="openManualTransactionModal(account)">
            <span class="icon is-small">
              <i class="fas fa-plus"></i>
            </span>
          </a>
          <a class="button is-small is-rounded mx-1" (click)="openCsvTransactionModal(account)">
            <span class="icon is-small">
              <i class="fas fa-upload"></i>
            </span>
          </a>
        </div>
      </div>
    </div>
  </div>
</article>

<app-manual-transaction-form #manualTransactionModal [account]="selectedAccount"></app-manual-transaction-form>
<app-csv-transaction-form #csvTransactionModal [account]="selectedAccount"></app-csv-transaction-form>
