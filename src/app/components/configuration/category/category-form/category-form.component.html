<section class="modal" id="category-form" #modal>
  <div class="modal-background"></div>
  <article class="modal-card">

    <header class="modal-card-head">
      <p class="modal-card-title" *ngIf="selector ==='edit'">Edit: {{categoryGroup!.name}}</p>
      <p class="modal-card-title" *ngIf="selector ==='create'">New CategoryGroup</p>
      <p class="modal-card-title" *ngIf="selector ==='addCategory'">Add Category Item</p>
      <button class="delete" aria-label="close" (click)="hideModal()"></button>
    </header>

    <form id="category-group-form" #modalCategoryGroupForm class="form is-hidden" [formGroup]="categoryGroupForm" #formDirective="ngForm" (ngSubmit)="submitCategoryGroupForm($event, formDirective)" novalidate>
      <div class="modal-card-body">
        <div class="columns mb-0">
          <div class="column is-8">
            <label class="label" for="input-name">name:</label>
            <div class="control">
              <input class="input"
               id="input-name"
               type="text"
               placeholder="name"
               formControlName="name"
               [ngClass]="{
                'is-danger': name.invalid && (name.dirty || name.touched),
                'is-success': name.valid && (name.dirty || name.touched)
               }"
               required>
            </div>
          </div>
          <div class="column">
            <label class="label" for="select-color">color:</label>
            <div class="select">
              <select name="color"
               class="input--select input"
               id="select-color"
               formControlName="color"
               [ngClass]="{
                'is-danger': color.invalid && (color.dirty || color.touched),
                'is-success': color.valid && (color.dirty || color.touched)
               }"
               required>
                <option *ngFor="let color of categoryColors" value={{color.value}}>{{color.name}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <footer class="modal-card-foot is-flex is-justify-content-center">
        <button class="button is-success"
         type="submit"
         [disabled]="categoryGroupForm.invalid"
         *ngIf="selector ==='create'">save</button>
         <button class="button is-success"
         type="button"
         [disabled]="categoryGroupForm.invalid"
         *ngIf="selector ==='edit'"
         (click)="editCategoryGroup()">save</button>
        <button class="button theme-modifer" type="button" (click)="hideModal()">cancel</button>
        <button class="button is-danger theme-modifer"
         type="button"
         (click)="deleteCategoryGroup()"
         *ngIf="selector ==='edit'">delete</button>
      </footer>
    </form>

    <form id="subcategory-form" #modalCategoryForm class="form is-hidden" [formGroup]="categoryForm" #formDirective="ngForm" (ngSubmit)="submitCategoryForm($event, formDirective)" novalidate>
      <div class="modal-card-body">
        <div class="columns mb-0">
          <div class="column">
            <label class="label" for="input-name-subcategory">name:</label>
            <div class="control">
              <input class="input"
               id="input-name-subcategory"
               type="text"
               placeholder="name"
               formControlName="name_category"
               [ngClass]="{
                'is-danger': name_category.invalid && (name_category.dirty || name_category.touched),
                'is-success': name_category.valid && (name_category.dirty || name_category.touched)
              }"
               required>
            </div>
          </div>
        </div>
        <div class="columns">
          <div class="column">
            <p><small>in group:</small> {{categoryGroup?.name}}</p>
          </div>
        </div>
      </div>
      <footer class="modal-card-foot is-flex is-justify-content-center">
        <button class="button is-success" type="submit" [disabled]="categoryForm.invalid">save</button>
        <button class="button theme-modifer" type="button" (click)="hideModal()">cancel</button>
      </footer>
    </form>

  </article>

</section>
